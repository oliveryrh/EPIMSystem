<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.epim.mapper.EmployeeMapper">

	<sql id="Base_Column_List">
		employee_number, name, gender, birthday, telephone, email, address, photo,
		education, department_number, position_number, in_time, password, notes
	</sql>
	
	<select id="checkLogin" resultType="Employee">
		select
		<include refid="Base_Column_List" />
		from employee 
		where employee_number = #{employeeNumber} and password = #{password}
	</select>
	
	<select id="findById" parameterType="java.lang.String" resultMap="employeeMap">
		select
		<include refid="Base_Column_List" />
		from employee
		where employee_number = #{id}
	</select>

	<select id="findAll" resultMap="employeeMap">
		select <include refid="Base_Column_List" /> from employee
	</select>

	<insert id="insert">
		insert into employee values
		<foreach collection="param" item="obj" open="(" separator="," close=")">
			#{obj}
		</foreach>
	</insert>

	<update id="update">
		update employee
		<set>
			<foreach collection="param" item="obj" open="(" separator="," close=")">
				#{obj},
			</foreach>
		</set>
		 where employee_number=#{id}
	</update>

	<delete id="delete" parameterType="java.lang.String">
		delete from employee where employee_number=#{id}
	</delete>

	<resultMap id="employeeMap" type="com.epim.entity.Employee">
		<id column="employee_number" property="employeeNumber"></id>
		<result column="name" property="name" jdbcType="VARCHAR"></result>
		<result column="gender" property="gender" jdbcType="VARCHAR"></result>
		<result column="birthday" property="birthday" jdbcType="DATE"></result>
		<result column="telephone" property="telephone" jdbcType="VARCHAR"></result>
		<result column="email" property="email" jdbcType="VARCHAR"></result>
		<result column="address" property="address" jdbcType="VARCHAR"></result>
		<result column="photo" property="photo" jdbcType="VARCHAR"></result>
		<result column="education" property="education" jdbcType="VARCHAR"></result>
		<result column="department_number" property="departmentNumber" jdbcType="VARCHAR"></result>
		<result column="in_time" property="inTime" jdbcType="TIMESTAMP"></result>
		<result column="password" property="password" jdbcType="VARCHAR"></result>
		<result column="notes" property="notes" jdbcType="VARCHAR"></result>
	</resultMap>

</mapper>